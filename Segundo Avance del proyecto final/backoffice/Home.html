<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <link rel="stylesheet" href="./style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500&family=Fredoka+One&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
      body {
       font-family: 'Poppins', sans-serif;
       background-color: #f6e7d8;
       margin: 0;
       padding: 0;
      }

      .menu-container {
       display: flex;
       align-items: center;
       gap: 25px; 
       margin-left: auto; 
      }

     .menu-header {
      display: flex;
      gap: 20px; 
      }

     .menu-header a {
     text-decoration: none;
     color: #d4af37; 
     font-weight: 500;
     font-size: 1rem;
     transition: 0.3s;
     }

    .menu-header a:hover {
     color: #b5922e; 
     transform: scale(1.1);
    }

    .home-header {
     width: 100%;
    background: #fff3e4;
    position: fixed;
    top: 0;
    padding: 18px 25px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 3px solid #e8c7a3;
    z-index: 100;
    gap: 10px;
   }

   .home-header h1 {
    font-family: 'Fredoka One', cursive;
    color: #8b5e3c;
    font-size: 1.8rem;
    margin: 0;
   }

   .home-header button#logout {
    background: #d9a679;
    color: white;
    border: none;
    padding: 8px 16px; 
    border-radius: 10px;
    cursor: pointer;
    font-weight: bold;
    transition: 0.3s;
    width: auto; 
   }

   .home-header button#logout:hover {
    background: #c88f5d;
    transform: scale(1.05);
   }

   #btn-agregar {
    margin: 0 auto 630px; 
    display: inline-block; 
    background: #d9a679;
    border: none;
    color: white;
    font-weight: bold;
    padding: 8px 16px; 
    border-radius: 10px;
    cursor: pointer;
    transition: 0.3s;
    text-align: center;
    max-width: 180px; 
   }

   #btn-agregar:hover {
    background: #c88f5d;
    transform: scale(1.05);
   }

   .panel {
    background: #fff3e4;
    width: 90%;
    max-width: 1000px;
    margin: 20px auto 40px;
    padding: 20px;
    padding-top: 62px; 
    border-radius: 20px;
    border: 2px solid #e6c5a8;
    text-align: center;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 20px;
   }

   .proyecto-item {
    background: #f6e7d8;
    border-radius: 15px;
    padding: 15px;
    text-align: center;
    box-shadow: 0 4px 15px rgba(150, 100, 50, 0.2);
    position: relative;
    transition: transform 0.3s;
   }

   .proyecto-item:hover {
    transform: translateY(-5px);
   }

   .proyecto-item img {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    margin-bottom: 10px;
    object-fit: cover;
    border: 2px solid #e6c5a8;
    background: #fff;
   }

   .proyecto-item h3 {
    color: #8b5e3c;
    margin-bottom: 8px;
   }

   .proyecto-item p {
    color: #4a3b2a;
    font-size: 0.9rem;
    margin-bottom: 12px;
   }

   .proyecto-item button {
    background: #d9a679;
    border: none;
    color: white;
    padding: 6px 12px;
    margin: 3px;
    border-radius: 8px;
    cursor: pointer;
    transition: 0.3s;
    font-size: 0.85rem;
   }

   .proyecto-item button:hover {
    background: #c88f5d;
   }

   #modal-form {
    display: none;
    position: fixed;
    top: 0; left: 0; right:0; bottom:0;
    background: rgba(0,0,0,0.5);
    justify-content: center;
    align-items: center;
    z-index: 200;
   }

   #modal-form .form-content {
    background: #fff3e4;
    padding: 25px;
    border-radius: 20px;
    width: 90%;
    max-width: 400px;
    border: 2px solid #e6c5a8;
    text-align: center;
    animation: fadeIn 0.5s ease;
   }

  #modal-form input, #modal-form textarea {
   width: 100%;
   padding: 10px;
   margin: 8px 0;
   border-radius: 10px;
   border: none;
   background: #e7c9a9;
  color: #4a3b2a;
  }

  #modal-form button {
   background: #d9a679;
   color: white;
   border: none;
   padding: 10px 18px;
   border-radius: 10px;
   cursor: pointer;
   margin: 5px;
   font-weight: bold;
 }

  #modal-form button:hover {
   background: #c88f5d;
 }

@keyframes fadeIn {
  from {opacity:0; transform: translateY(-20px);}
  to {opacity:1; transform: translateY(0);}
}
</style>
</head>
<body>
<header class="home-header">
  <h1>Mis Proyectos</h1>
  
  <div class="menu-container">
    <nav class="menu-header">
      <a href="#">Terminados</a>
      <a href="#">En Proceso</a>
      <a href="#">No Iniciados</a>
    </nav>
    <button id="logout">Cerrar Sesión</button>
  </div>
</header>

<button id="btn-agregar">+ Agregar Proyecto</button>

<div class="panel" id="lista-proyectos"></div>

<div id="modal-form">
  <div class="form-content">
    <h2 id="form-title">Agregar Proyecto</h2>
    <form id="form-proyecto">
      <input type="text" name="titulo" placeholder="Titulo del proyecto" required>
      <textarea name="descripcion" placeholder="Descripcion del proyecto" required></textarea>
      <input type="text" name="img" placeholder="imagen">
      <div>
        <button type="submit">Guardar</button>
        <button type="button" id="btn-cancelar">Cancelar</button>
      </div>
    </form>
  </div>
</div>

<script>
let proyectos = [
  {titulo:"Batalla Espacial", descripcion:"Controla una nave, derriba enemigos, esquiva sus disparos y sobrevive con 5 vidas ", img:"img/batallaEspacial.png"},
  {titulo:"Dogopedia", descripcion:"Página web que muestra puestos de hot dogs, con ubicación y diseño responsive", img:"img/dogopedia.png"},
  {titulo:"FakeMario", descripcion:"Controla a Mario, evita enemigos y obstáculos mientras exploras niveles con música", img:"img/FakeMario3.png"},
  {titulo:"Harry Potter Api", descripcion:"Web con registro/login, home protegido y personajes de Harry Potter desde una API", img:"img/Harryp.png"},
  {titulo:"Parchis", descripcion:"Juego de Parchís multijugador en red local, siguiendo reglas y turnos del juego", img:"img/parchis2.jpg"},
  {titulo:"Taller ISW", descripcion:"Inscripción a talleres: muestra detalles del taller y del alumno, y genera ticket al confirmar", img:"img/taller.png"}
];

const panel = document.getElementById("lista-proyectos");

function renderProyectos(){
  panel.innerHTML = "";
  proyectos.forEach((p)=>{
    const div = document.createElement("div");
    div.classList.add("proyecto-item");
    div.innerHTML = `<img src="${p.img}" alt="${p.titulo}"> <h3>${p.titulo}</h3>
      <p>${p.descripcion}</p> <button class="editar">Editar</button> <button class="eliminar">Eliminar</button> `;
    panel.appendChild(div);
  });
}
renderProyectos();

document.getElementById("logout").addEventListener("click", ()=>{
  localStorage.removeItem("token");
  window.location.href="Login.html";
});

const modal = document.getElementById("modal-form");
const btnAgregar = document.getElementById("btn-agregar");
const btnCancelar = document.getElementById("btn-cancelar");
const formTitle = document.getElementById("form-title");

btnAgregar.addEventListener("click", () => {
  formTitle.textContent = "Agregar Proyecto";
  modal.style.display = "flex";
});

panel.addEventListener("click", (e) => {
  if(e.target.classList.contains("editar")){
    formTitle.textContent = "Editar Proyecto";
    modal.style.display = "flex";
  }
});

btnCancelar.addEventListener("click", () => {
  modal.style.display = "none";
});

modal.addEventListener("click", (e) => {
  if (e.target === modal) modal.style.display = "none";
});
</script>

<script>
  const botonAgregar = document.getElementById("btn-agregar");

  btnAgregar.addEventListener("click", () => {
    confetti({
      particleCount: 50,
      spread: 70,
      origin: { y: 0.6 },
      colors: ['#d9a679', '#f6e7d8', '#8b5e3c', '#fcd2a1']
    });
  });
</script>

</body>
</html>